default:
  gherkin:
    filters:
      tags: "~@product"    # exclude scenario by tag
  suites:
    default:
      contexts:
        - HomePageContext
        - ContactPageContext
        - FeatureContext
        - CheckoutPageContext
        - AccountPageContext
        - NavigationPageContext
  formatters:
    html:
      output_path: %paths.base%/report/firefox
  extensions:
    emuse\BehatHTMLFormatter\BehatHTMLFormatterExtension:
      name: html
      renderer: Twig,Behat2
      file_name: index
      print_args: true
      print_outp: true
      loop_break: true
    Behat\MinkExtension:
      base_url: "https://www.wingo.ch/fr"
      default_session: selenium2
      javascript_session: selenium2
      browser_name: firefox
      files_path: assets
      goutte:
        guzzle_parameters:
          curl.options:
            CURLOPT_SSL_VERIFYPEER: false
            CURLOPT_CERTINFO: false
          defaults:
            verify: false
            ssl.certificate_authority: false
      selenium2:
        wd_host: "http://127.0.0.1:4445/wd/hub"
        #wd_host: "http://10.5.0.42:4444/wd/hub/static/resource/hub/html"
        #wd_host: "http://0.0.0.0:4444/wd/hub"   # selenium 3 address
        capabilities: { 'browser': 'firefox', 'version': 'ANY' }
    SensioLabs\Behat\PageObjectExtension:
      namespaces:
         page: [Page]
         element: [Page\Element]
    Bex\Behat\ScreenshotExtension:
      screenshot_taking_mode: failed_steps
      active_image_drivers: [upload_pie, local]
      image_drivers:
        upload_pie:
          expire: '1h' # possible values: '30m', '1h', '6h', '1d', '1w'
        local:
          screenshot_directory: screenshots
          clear_screenshot_directory: true

#====================================================================================================================#

preprod:
  extensions:
    Behat\MinkExtension:
      base_url: "https://wingo-preprod.wingo.ch/fr"

#====================================================================================================================#

chrome:
  formatters:
    html:
      output_path: %paths.base%/report/chrome
  extensions:
    Behat\MinkExtension:
      browser_name: chrome

#====================================================================================================================#

firefox:
  formatters:
    html:
      output_path: %paths.base%/report/firefox
  extensions:
    Behat\MinkExtension:
      browser_name: firefox

#====================================================================================================================#

safari:
  formatters:
    html:
      output_path: %paths.base%/report/safari
  extensions:
    Behat\MinkExtension:
      browser_name: safari

#====================================================================================================================#

chrome_nexus_5:
  formatters:
    html:
      output_path: %paths.base%/report/chrome_nexus_5
  extensions:
    Behat\MinkExtension:
      browser_name: chrome
      selenium2:
        capabilities:
          extra_capabilities:
            chromeOptions:
              mobileEmulation:
                deviceName: "Google Nexus 5"

#====================================================================================================================#

chrome_galaxy_s4:
  formatters:
    html:
      output_path: %paths.base%/report/chrome_galaxy_s4
  extensions:
    Behat\MinkExtension:
      browser_name: chrome
      selenium2:
        capabilities:
          extra_capabilities:
            chromeOptions:
              mobileEmulation:
                deviceName: "Samsung Galaxy S4"

#====================================================================================================================#

chrome_galaxy_note_3:
  formatters:
    html:
      output_path: %paths.base%/report/chrome_galaxy_note_3
  extensions:
    Behat\MinkExtension:
      browser_name: chrome
      selenium2:
        capabilities:
          extra_capabilities:
            chromeOptions:
              mobileEmulation:
                deviceName: "Samsung Galaxy Note 3"

#====================================================================================================================#

chrome_galaxy_note_2:
  formatters:
    html:
      output_path: %paths.base%/report/chrome_note_2
  extensions:
    Behat\MinkExtension:
      browser_name: chrome
      selenium2:
        capabilities:
          extra_capabilities:
            chromeOptions:
              mobileEmulation:
                deviceName: "Samsung Galaxy Note II"

#====================================================================================================================#

chrome_iphone_4:
  formatters:
    html:
      output_path: %paths.base%/report/chrome_iphone_4
  extensions:
    Behat\MinkExtension:
      browser_name: chrome
      selenium2:
        capabilities:
          extra_capabilities:
            chromeOptions:
              mobileEmulation:
                deviceName: "Apple iPhone 4"

#====================================================================================================================#

chrome_iphone_5:
  formatters:
    html:
      output_path: %paths.base%/report/chrome_iphone_5
  extensions:
    Behat\MinkExtension:
      browser_name: chrome
      selenium2:
        capabilities:
          extra_capabilities:
            chromeOptions:
              mobileEmulation:
                deviceName: "Apple iPhone 5"
#====================================================================================================================#

chrome_ipad:
  formatters:
    html:
      output_path: %paths.base%/report/chrome_ipad
  extensions:
    Behat\MinkExtension:
      browser_name: chrome
      selenium2:
        capabilities:
          extra_capabilities:
            chromeOptions:
              mobileEmulation:
                deviceName: "Apple iPad"

#====================================================================================================================#

chrome_iphone_6:
  formatters:
    html:
      output_path: %paths.base%/report/chrome_iphone_6
  extensions:
    Behat\MinkExtension:
      browser_name: chrome
      selenium2:
        capabilities:
          extra_capabilities:
            chromeOptions:
              mobileEmulation:
                deviceName: "Apple iPhone 6"

#====================================================================================================================#

chrome_iphone_6_plus:
  formatters:
    html:
      output_path: %paths.base%/report/chrome_iphone_6_plus
  extensions:
    Behat\MinkExtension:
      browser_name: chrome
      selenium2:
        capabilities:
          extra_capabilities:
            chromeOptions:
              mobileEmulation:
                deviceName: "Apple iPhone 6 Plus"

#====================================================================================================================#

phantomjs:
  formatters:
    html:
      output_path: %paths.base%/report/phantomjs
  extensions:
    Behat\MinkExtension:
      base_url: "https://www.wingo.ch/fr"     #"https://wingo-preprod.wingo.ch/fr"
      browser_name: phantomjs
      default_session: selenium2
      javascript_session: selenium2
      selenium2:
        browser: phantomjs
        capabilities:
          browser: phantomjs
          version: ""
        wd_host: "http://127.0.0.1:4445/wd/hub"

#====================================================================================================================#

preprod-phantomjs:
  formatters:
    html:
      output_path: %paths.base%/report/phantomjs
  extensions:
    Behat\MinkExtension:
      base_url: "https://wingo-preprod.wingo.ch/fr"
      browser_name: phantomjs
      default_session: selenium2
      javascript_session: selenium2
      selenium2:
        browser: phantomjs
        capabilities:
          browser: phantomjs
          version: ""
        wd_host: "http://127.0.0.1:4445/wd/hub"

#====================================================================================================================#

sauce:
  context:
    class:  'FeatureContext'
  extensions:
    Behat\MinkExtension:
      selenium2:
        browser: iexplore
        wd_host: username:apikey@ondemand.saucelabs.com/wd/hub
        capabilities: { "platform": "VISTA", "browser": "iexplore", "version": "9"}

#====================================================================================================================#

sauce-rc:
  context:
    class:  'FeatureContext'
  extensions:
    Behat\MinkExtension:
      base_url:  'https://wingo-preprod.wingo.ch/fr'
      javascript_session: selenium2
      selenium:
        host: ondemand.saucelabs.com
        port: 80
        browser: >
          {
            "username":         "username",
            "access-key":       "apikey",
            "browser":          "firefox",
            "browser-version":  "7",
            "os":               "Windows 2003",
            "name":             "E2E Automation Tests"
          }